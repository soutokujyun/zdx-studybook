# MCP Audit - ä»£ç å®‰å…¨å®¡è®¡å·¥å…·

ä¸€ä¸ªç”¨äºå®¡è®¡ Node.js é¡¹ç›®ä¾èµ–å®‰å…¨çš„å·¥å…·ï¼Œé€šè¿‡åˆ†æ package-lock.json æ–‡ä»¶æ¥è¯†åˆ«å®‰å…¨æ¼æ´å’Œä¾èµ–é£é™©ã€‚

## 1. ç‰¹æ€§

- ğŸ” **å…¨é¢å®¡è®¡**: åˆ†æé¡¹ç›®åŠå…¶æ‰€æœ‰ä¾èµ–çš„å®‰å…¨æ¼æ´
- ğŸ“Š **è¯¦ç»†æŠ¥å‘Š**: ç”Ÿæˆç»“æ„åŒ–çš„ markdown å®¡è®¡æŠ¥å‘Š
- ğŸ”’ **ç¯å¢ƒä¸€è‡´æ€§**: ä½¿ç”¨ Docker ç¡®ä¿è·¨ç¯å¢ƒçš„ä¸€è‡´æ€§
- ğŸš€ **æ˜“äºé›†æˆ**: ç®€å• APIï¼Œæ˜“äºé›†æˆåˆ°ç°æœ‰å·¥ä½œæµ

## 2. å®‰è£…

```bash
npm install
```

## 3. ä½¿ç”¨æ–¹æ³•

### 3.1 åŸºæœ¬ä½¿ç”¨

```javascript
import { auditPackage } from "./src/entry/index.js";

await auditPackage("/path/to/project", "./audit-result.md");
```

### 3.2 å‚æ•°è¯´æ˜

- `projectRoot`: é¡¹ç›®æ ¹ç›®å½•è·¯å¾„ï¼ˆå¯ä»¥æ˜¯æœ¬åœ°è·¯å¾„æˆ–è¿œç¨‹ä»“åº“ URLï¼‰
- `savePath`: å®¡è®¡ç»“æœä¿å­˜è·¯å¾„

## 4. Docker ç¯å¢ƒä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ

ğŸ”— **è¯¦ç»†æ–‡æ¡£**: [æŸ¥çœ‹ Docker é…ç½®æŒ‡å—](./docker/README.md)

ä¸ºäº†è§£å†³ä¸åŒç¯å¢ƒä¸­ npm ç‰ˆæœ¬å·®å¼‚å¯¼è‡´çš„ lock æ–‡ä»¶æ ¼å¼ä¸ä¸€è‡´é—®é¢˜ï¼Œæˆ‘ä»¬æä¾›äº†å®Œæ•´çš„ Docker å®¹å™¨åŒ–è§£å†³æ–¹æ¡ˆã€‚

## 5. é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ Dockerfile                  # Dockeré•œåƒå®šä¹‰
â”œâ”€â”€ .dockerignore              # Dockeræ„å»ºå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ unix/                  # Unix/Linux/macOS è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ build-docker.sh    # æ„å»ºDockeré•œåƒè„šæœ¬
â”‚   â”‚   â””â”€â”€ generate-lock-docker.sh # ç”Ÿæˆlockæ–‡ä»¶è„šæœ¬
â”‚   â”œâ”€â”€ windows/               # Windows è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ build-docker.bat   # æ„å»ºDockeré•œåƒè„šæœ¬
â”‚   â”‚   â””â”€â”€ generate-lock-docker.bat # ç”Ÿæˆlockæ–‡ä»¶è„šæœ¬
â”‚   â”œâ”€â”€ test/
â”‚   â”‚   â””â”€â”€ test-docker.js     # Dockerç¯å¢ƒæµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ README.md              # Dockerä½¿ç”¨æ–‡æ¡£
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ entry/                 # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ parseProject/          # é¡¹ç›®è§£ææ¨¡å—
â”‚   â”œâ”€â”€ generateLock/          # Lockæ–‡ä»¶ç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ audit/                 # å®¡è®¡æ¨¡å—
â”‚   â”œâ”€â”€ render/                # æŠ¥å‘Šæ¸²æŸ“æ¨¡å—
â”‚   â””â”€â”€ common/                # å…¬å…±å·¥å…·
â””â”€â”€ package.json               # é¡¹ç›®é…ç½®
```

## 6. å¼€å‘

### 6.1 è¿è¡Œæµ‹è¯•

```bash
npm test
```

### 6.2 æ„å»º Docker é•œåƒ

```bash
npm run docker:build
```

### 6.3 æµ‹è¯• Docker ç¯å¢ƒ

```bash
npm run docker:test
```
